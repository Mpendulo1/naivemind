
import { useContext } from "react";
import { Link } from "react-router-dom";
import { UserContext } from "../contexts/UserContext";

export const Logo = () => {
    return(
        <Link to="/"> 
            <svg width="194" height="45" viewBox="0 0 194 45" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 4C0 1.79086 1.79086 0 4 0H190C192.209 0 194 1.79086 194 4V41C194 43.2091 192.209 45 190 45H4C1.79086 45 0 43.2091 0 41V4Z" fill="#6366F1"/>
                <path d="M17.176 33.5V11.1H21.272L31.8 26.876V11.1H35.896V33.5H31.8L21.272 17.756V33.5H17.176ZM45.6145 33.884C44.2492 33.884 43.1292 33.6707 42.2545 33.244C41.3798 32.796 40.7292 32.2093 40.3025 31.484C39.8758 30.7587 39.6625 29.9587 39.6625 29.084C39.6625 27.612 40.2385 26.4173 41.3905 25.5C42.5425 24.5827 44.2705 24.124 46.5745 24.124H50.6065V23.74C50.6065 22.652 50.2972 21.852 49.6785 21.34C49.0598 20.828 48.2918 20.572 47.3745 20.572C46.5425 20.572 45.8172 20.7747 45.1985 21.18C44.5798 21.564 44.1958 22.14 44.0465 22.908H40.0465C40.1532 21.756 40.5372 20.7533 41.1985 19.9C41.8812 19.0467 42.7558 18.396 43.8225 17.948C44.8892 17.4787 46.0838 17.244 47.4065 17.244C49.6678 17.244 51.4492 17.8093 52.7505 18.94C54.0518 20.0707 54.7025 21.6707 54.7025 23.74V33.5H51.2145L50.8305 30.94C50.3612 31.7933 49.6998 32.4973 48.8465 33.052C48.0145 33.6067 46.9372 33.884 45.6145 33.884ZM46.5425 30.684C47.7158 30.684 48.6225 30.3 49.2625 29.532C49.9238 28.764 50.3398 27.8147 50.5105 26.684H47.0225C45.9345 26.684 45.1558 26.8867 44.6865 27.292C44.2172 27.676 43.9825 28.156 43.9825 28.732C43.9825 29.3507 44.2172 29.8307 44.6865 30.172C45.1558 30.5133 45.7745 30.684 46.5425 30.684ZM60.8193 15.164C60.0726 15.164 59.4539 14.94 58.9633 14.492C58.4939 14.044 58.2593 13.4787 58.2593 12.796C58.2593 12.1133 58.4939 11.5587 58.9633 11.132C59.4539 10.684 60.0726 10.46 60.8193 10.46C61.5659 10.46 62.1739 10.684 62.6433 11.132C63.1339 11.5587 63.3793 12.1133 63.3793 12.796C63.3793 13.4787 63.1339 14.044 62.6433 14.492C62.1739 14.94 61.5659 15.164 60.8193 15.164ZM58.7713 33.5V17.628H62.8673V33.5H58.7713ZM71.4305 33.5L65.6065 17.628H69.8945L73.9265 29.628L77.9585 17.628H82.2465L76.3905 33.5H71.4305ZM91.7608 33.884C90.1608 33.884 88.7421 33.5427 87.5048 32.86C86.2674 32.1773 85.2968 31.2173 84.5928 29.98C83.8888 28.7427 83.5368 27.3133 83.5368 25.692C83.5368 24.0493 83.8781 22.588 84.5608 21.308C85.2648 20.028 86.2248 19.036 87.4408 18.332C88.6781 17.6067 90.1288 17.244 91.7928 17.244C93.3501 17.244 94.7261 17.5853 95.9208 18.268C97.1154 18.9507 98.0434 19.8893 98.7048 21.084C99.3874 22.2573 99.7288 23.5693 99.7288 25.02C99.7288 25.2547 99.7181 25.5 99.6968 25.756C99.6968 26.012 99.6861 26.2787 99.6648 26.556H87.6008C87.6861 27.7933 88.1128 28.764 88.8808 29.468C89.6701 30.172 90.6194 30.524 91.7288 30.524C92.5608 30.524 93.2541 30.3427 93.8088 29.98C94.3848 29.596 94.8114 29.1053 95.0888 28.508H99.2488C98.9501 29.5107 98.4488 30.428 97.7448 31.26C97.0621 32.0707 96.2088 32.7107 95.1848 33.18C94.1821 33.6493 93.0408 33.884 91.7608 33.884ZM91.7928 20.572C90.7901 20.572 89.9048 20.86 89.1368 21.436C88.3688 21.9907 87.8781 22.844 87.6648 23.996H95.5688C95.5048 22.9507 95.1208 22.1187 94.4168 21.5C93.7128 20.8813 92.8381 20.572 91.7928 20.572ZM103.27 33.5V11.1H108.134L115.27 25.308L122.31 11.1H127.174V33.5H123.078V18.044L116.838 30.3H113.606L107.366 18.044V33.5H103.27ZM133.632 15.164C132.885 15.164 132.266 14.94 131.776 14.492C131.306 14.044 131.072 13.4787 131.072 12.796C131.072 12.1133 131.306 11.5587 131.776 11.132C132.266 10.684 132.885 10.46 133.632 10.46C134.378 10.46 134.986 10.684 135.456 11.132C135.946 11.5587 136.192 12.1133 136.192 12.796C136.192 13.4787 135.946 14.044 135.456 14.492C134.986 14.94 134.378 15.164 133.632 15.164ZM131.584 33.5V17.628H135.68V33.5H131.584ZM139.955 33.5V17.628H143.571L143.891 20.316C144.382 19.3773 145.086 18.6307 146.003 18.076C146.942 17.5213 148.04 17.244 149.299 17.244C151.262 17.244 152.787 17.8627 153.875 19.1C154.963 20.3373 155.507 22.1507 155.507 24.54V33.5H151.411V24.924C151.411 23.5587 151.134 22.5133 150.579 21.788C150.024 21.0627 149.16 20.7 147.987 20.7C146.835 20.7 145.886 21.1053 145.139 21.916C144.414 22.7267 144.051 23.8573 144.051 25.308V33.5H139.955ZM166.72 33.884C165.226 33.884 163.893 33.5213 162.72 32.796C161.546 32.0707 160.618 31.0787 159.936 29.82C159.253 28.5613 158.912 27.132 158.912 25.532C158.912 23.932 159.253 22.5133 159.936 21.276C160.618 20.0173 161.546 19.036 162.72 18.332C163.893 17.6067 165.226 17.244 166.72 17.244C167.914 17.244 168.96 17.468 169.856 17.916C170.752 18.364 171.477 18.9933 172.032 19.804V10.46H176.128V33.5H172.48L172.032 31.228C171.52 31.932 170.837 32.5507 169.984 33.084C169.152 33.6173 168.064 33.884 166.72 33.884ZM167.584 30.3C168.906 30.3 169.984 29.8627 170.816 28.988C171.669 28.092 172.096 26.9507 172.096 25.564C172.096 24.1773 171.669 23.0467 170.816 22.172C169.984 21.276 168.906 20.828 167.584 20.828C166.282 20.828 165.205 21.2653 164.352 22.14C163.498 23.0147 163.072 24.1453 163.072 25.532C163.072 26.9187 163.498 28.06 164.352 28.956C165.205 29.852 166.282 30.3 167.584 30.3Z" fill="white"/>
            </svg>
        </Link>        
    );
}

export const MenuIcon = ({callbackFunction}) => {
    return(
        <svg onClick={callbackFunction} className="cursor-pointer sm:hidden" width="40" height="30" viewBox="0 0 40 25" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M37.8889 10.4167H2.11111C0.945177 10.4167 0 11.3028 0 12.3958V12.6042C0 13.6972 0.945177 14.5833 2.11111 14.5833H37.8889C39.0548 14.5833 40 13.6972 40 12.6042V12.3958C40 11.3028 39.0548 10.4167 37.8889 10.4167Z" fill="#6366F1"/>
            <path d="M37.8889 20.8333H2.11111C0.945177 20.8333 0 21.7194 0 22.8125V23.0208C0 24.1139 0.945177 25 2.11111 25H37.8889C39.0548 25 40 24.1139 40 23.0208V22.8125C40 21.7194 39.0548 20.8333 37.8889 20.8333Z" fill="#6366F1"/>
            <path d="M37.8889 0H2.11111C0.945177 0 0 0.886103 0 1.97917V2.1875C0 3.28056 0.945177 4.16667 2.11111 4.16667H37.8889C39.0548 4.16667 40 3.28056 40 2.1875V1.97917C40 0.886103 39.0548 0 37.8889 0Z" fill="#6366F1"/>
        </svg>
    );
}

export const HomeIcon = () => {
    return(
    <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M13.3909 0.369641C13.2747 0.252514 13.1365 0.159548 12.9842 0.0961058C12.8319 0.0326633 12.6686 0 12.5036 0C12.3387 0 12.1753 0.0326633 12.023 0.0961058C11.8708 0.159548 11.7326 0.252514 11.6164 0.369641L0.369641 11.6164C0.252514 11.7326 0.159548 11.8708 0.0961058 12.023C0.0326633 12.1753 0 12.3387 0 12.5036C0 12.6686 0.0326633 12.8319 0.0961058 12.9842C0.159548 13.1365 0.252514 13.2747 0.369641 13.3909C0.486407 13.5067 0.624887 13.5983 0.777139 13.6605C0.929392 13.7227 1.09242 13.7542 1.25688 13.7533H2.50652V22.5007C2.50652 23.1636 2.76984 23.7993 3.23854 24.268C3.70725 24.7367 4.34295 25 5.0058 25H20.0014C20.6643 25 21.3 24.7367 21.7687 24.268C22.2374 23.7993 22.5007 23.1636 22.5007 22.5007V13.7533H23.7504C24.0818 13.7533 24.3996 13.6216 24.634 13.3873C24.8683 13.1529 25 12.835 25 12.5036C25.001 12.3392 24.9694 12.1761 24.9072 12.0239C24.8451 11.8716 24.7534 11.7331 24.6376 11.6164L13.3909 0.369641ZM5.0058 22.5007V10.5167L12.5036 3.01887L20.0014 10.5167V22.5007H5.0058Z" fill="#818CF8"/>
    </svg>         
    );
}

export const AvatarlIcon = () => {
    return(
        <svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13 5.57141C12.0817 5.57141 11.1841 5.84371 10.4206 6.35387C9.65706 6.86404 9.06197 7.58915 8.71057 8.43752C8.35916 9.28589 8.26721 10.2194 8.44636 11.12C8.62551 12.0207 9.0677 12.8479 9.71701 13.4973C10.3663 14.1466 11.1936 14.5888 12.0942 14.7679C12.9949 14.9471 13.9284 14.8551 14.7768 14.5037C15.6251 14.1523 16.3502 13.5572 16.8604 12.7937C17.3706 12.0302 17.6429 11.1325 17.6429 10.2143C17.6429 8.98291 17.1537 7.80198 16.283 6.93127C15.4123 6.06057 14.2314 5.57141 13 5.57141Z" fill="#818CF8"/>
            <path d="M13 0C10.4288 0 7.91543 0.762437 5.77759 2.19089C3.63975 3.61935 1.97351 5.64967 0.989572 8.02511C0.00563268 10.4006 -0.251811 13.0144 0.249797 15.5362C0.751405 18.0579 1.98953 20.3743 3.80762 22.1924C5.6257 24.0105 7.94208 25.2486 10.4638 25.7502C12.9856 26.2518 15.5994 25.9944 17.9749 25.0104C20.3503 24.0265 22.3806 22.3602 23.8091 20.2224C25.2376 18.0846 26 15.5712 26 13C25.9961 9.55339 24.6252 6.24907 22.188 3.81195C19.7509 1.37483 16.4466 0.00393224 13 0V0ZM20.4211 21.2884C20.4026 20.0704 19.9064 18.9085 19.0393 18.0529C18.1723 17.1973 17.0038 16.7166 15.7857 16.7143H10.2143C8.99617 16.7166 7.82771 17.1973 6.96066 18.0529C6.09361 18.9085 5.59737 20.0704 5.57886 21.2884C3.89496 19.7848 2.70747 17.8052 2.17364 15.6118C1.63981 13.4183 1.78481 11.1144 2.58946 9.00515C3.3941 6.89592 4.82042 5.08083 6.67956 3.80024C8.5387 2.51965 10.743 1.83395 13.0005 1.83395C15.258 1.83395 17.4622 2.51965 19.3214 3.80024C21.1805 5.08083 22.6068 6.89592 23.4115 9.00515C24.2161 11.1144 24.3611 13.4183 23.8273 15.6118C23.2935 17.8052 22.106 19.7848 20.4221 21.2884H20.4211Z" fill="#818CF8"/>
        </svg>
    );
}

export function Navbar({navIsOpen, toggleNav}) {
    const { user, setModalIsVisble, setFormIsVisible } = useContext(UserContext);

    const showLogoutModal = () => {
        toggleNav()
        setModalIsVisble(true);
        setFormIsVisible(false);
    }

    const showAuthForm = () => {
        toggleNav();
        setFormIsVisible(true);
        setModalIsVisble(false);
    }

    return(
        <nav className="h-fit flex justify-between items-center pb-2 border-solid border-indigo-500 border-b-2 sm:pr-8 md:pl-8">
            <Logo />
            <MenuIcon callbackFunction={toggleNav} />
            {
                navIsOpen === true ? 
                <div className="h-screen max-w-prose bg-indigo-500 drop-shadow-xl py-4 pl-20 pr-2 absolute z-10 top-0 right-0 flex flex-col justify-start sm:hidden">
                    <Link onClick={() => toggleNav()} className="w-full text-right p-1 text-2xl text-yellow-50 active:underline underline-offset-4" to="/">Home</Link>
                    <Link onClick={user ? showLogoutModal : showAuthForm} className="w-full text-right p-1 text-2xl text-yellow-50 active:underline underline-offset-4" to="/" >{user ? "Logout" : "Register"}</Link>
                </div>
                :
                null
            }
            <div className="hidden sm:flex">
                <Link to="/" className="mr-14">
                    <div className="flex flex-col items-center py-1 px-2 rounded-md border-dashed border-2 border-yellow-50 hover:border-indigo-500">
                        <HomeIcon />
                        <p className="text-indigo-500">Home</p>
                    </div>
                </Link>
                <Link to="/">
                    <div onClick={user ? showLogoutModal : showAuthForm} className="flex flex-col items-center py-1 px-2 rounded-md border-dashed border-2 border-yellow-50 hover:border-indigo-500">
                        <AvatarlIcon />
                        <p className="text-indigo-500">{user ? "Logout" : "Register"}</p>
                    </div>
                </Link>
            </div>
        </nav>
    );
}

